{"ast":null,"code":"import { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { ConfirmComponent } from 'src/app/comun/dialogs/confirm/confirm.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../api-users.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/divider\";\nimport * as i8 from \"@angular/material/tooltip\";\nimport * as i9 from \"@angular/material/table\";\nimport * as i10 from \"@angular/material/paginator\";\nfunction ListUsersComponent_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 5);\n    i0.ɵɵtext(1, \"No hay usuarios creados!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListUsersComponent_div_6_th_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"NOMBRE::::::\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListUsersComponent_div_6_td_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r10.name, \" \");\n  }\n}\nfunction ListUsersComponent_div_6_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"CORREO....\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListUsersComponent_div_6_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r11.email, \" \");\n  }\n}\nfunction ListUsersComponent_div_6_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"OPCIONES\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/menu-usuario/view-usuario\", a1];\n};\nconst _c1 = function (a1) {\n  return [\"/menu-usuario/edit-usuario\", a1];\n};\nfunction ListUsersComponent_div_6_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 18)(1, \"button\", 19)(2, \"mat-icon\", 20);\n    i0.ɵɵtext(3, \"visibility\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"button\", 21)(5, \"mat-icon\", 22);\n    i0.ɵɵtext(6, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ListUsersComponent_div_6_td_11_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const i_r13 = restoredCtx.index;\n      const element_r12 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.deleteUsuario(i_r13, element_r12));\n    });\n    i0.ɵɵelementStart(8, \"mat-icon\", 24);\n    i0.ɵɵtext(9, \"delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const element_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, element_r12.id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c1, element_r12.id));\n  }\n}\nfunction ListUsersComponent_div_6_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 25);\n  }\n}\nfunction ListUsersComponent_div_6_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 26);\n  }\n}\nconst _c2 = function () {\n  return [5, 10, 20];\n};\nfunction ListUsersComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"table\", 8);\n    i0.ɵɵelementContainerStart(3, 9);\n    i0.ɵɵtemplate(4, ListUsersComponent_div_6_th_4_Template, 2, 0, \"th\", 10);\n    i0.ɵɵtemplate(5, ListUsersComponent_div_6_td_5_Template, 2, 1, \"td\", 11);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(6, 12);\n    i0.ɵɵtemplate(7, ListUsersComponent_div_6_th_7_Template, 2, 0, \"th\", 10);\n    i0.ɵɵtemplate(8, ListUsersComponent_div_6_td_8_Template, 2, 1, \"td\", 11);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(9, 13);\n    i0.ɵɵtemplate(10, ListUsersComponent_div_6_th_10_Template, 2, 0, \"th\", 10);\n    i0.ɵɵtemplate(11, ListUsersComponent_div_6_td_11_Template, 10, 6, \"td\", 11);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(12, ListUsersComponent_div_6_tr_12_Template, 1, 0, \"tr\", 14);\n    i0.ɵɵtemplate(13, ListUsersComponent_div_6_tr_13_Template, 1, 0, \"tr\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"mat-paginator\", 16);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"dataSource\", ctx_r1.dataSource);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r1.displayedColumns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r1.displayedColumns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"pageSize\", 10)(\"pageSizeOptions\", i0.ɵɵpureFunction0(5, _c2));\n  }\n}\nexport let ListUsersComponent = /*#__PURE__*/(() => {\n  class ListUsersComponent {\n    constructor(usuarioApi, dialog) {\n      this.usuarioApi = usuarioApi;\n      this.dialog = dialog;\n      this.usuarioData = [];\n      this.displayedColumns = ['name', 'email', 'opciones'];\n      this.usuarioApi.getUsuarios().subscribe(data => {\n        this.usuarioData = data;\n        this.dataSource = new MatTableDataSource(this.usuarioData);\n        setTimeout(() => {\n          this.dataSource.paginator = this.paginator;\n          if (this.usuarioData.length > 0) {\n            this.dataSource.paginator._intl.itemsPerPageLabel = \"Registros por página\";\n          }\n        }, 0);\n      });\n    }\n    ngOnInit() {}\n    deleteUsuario(index, e) {\n      this.dialog.open(ConfirmComponent, {\n        data: {\n          message: `¿Está seguro de eliminar el usuario \"${e.name}\"?`\n        }\n      }).afterClosed().subscribe(confirm => {\n        if (confirm) {\n          this.usuarioApi.deleteUsuario(e.id).subscribe(res => {\n            const data = this.dataSource.data;\n            data.splice(this.paginator.pageIndex * this.paginator.pageSize + index, 1);\n            this.dataSource.data = data;\n          });\n        }\n      });\n    }\n    static {\n      this.ɵfac = function ListUsersComponent_Factory(t) {\n        return new (t || ListUsersComponent)(i0.ɵɵdirectiveInject(i1.ApiUsersService), i0.ɵɵdirectiveInject(i2.MatDialog));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ListUsersComponent,\n        selectors: [[\"app-list-users\"]],\n        viewQuery: function ListUsersComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(MatPaginator, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n          }\n        },\n        decls: 7,\n        vars: 2,\n        consts: [[1, \"title-group\"], [1, \"mat-h1\"], [\"fxFlex\", \"1 0\"], [\"class\", \"no-data\", 4, \"ngIf\"], [\"class\", \"container\", 4, \"ngIf\"], [1, \"no-data\"], [1, \"container\"], [1, \"mat-elevation-z8\"], [\"mat-table\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"name\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"email\"], [\"matColumnDef\", \"opciones\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"pageSize\", \"pageSizeOptions\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", 1, \"push-right\", 3, \"routerLink\"], [\"matTooltip\", \"Ver detalle del usuario\", \"matTooltipPosition\", \"above\"], [\"mat-icon-button\", \"\", \"color\", \"accent\", 1, \"push-right\", 3, \"routerLink\"], [\"matTooltip\", \"Editar usuario\", \"matTooltipPosition\", \"above\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"matTooltip\", \"Eliminar usuario\", \"matTooltipPosition\", \"above\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n        template: function ListUsersComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n            i0.ɵɵtext(2, \"Lista de usuarios\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(3, \"mat-divider\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(4, \"br\");\n            i0.ɵɵtemplate(5, ListUsersComponent_p_5_Template, 2, 0, \"p\", 3);\n            i0.ɵɵtemplate(6, ListUsersComponent_div_6_Template, 15, 6, \"div\", 4);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.usuarioData.length <= 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.usuarioData.length > 0);\n          }\n        },\n        dependencies: [i3.NgIf, i4.RouterLink, i5.MatIconButton, i6.MatIcon, i7.MatDivider, i8.MatTooltip, i9.MatTable, i9.MatHeaderCellDef, i9.MatHeaderRowDef, i9.MatColumnDef, i9.MatCellDef, i9.MatRowDef, i9.MatHeaderCell, i9.MatCell, i9.MatHeaderRow, i9.MatRow, i10.MatPaginator],\n        encapsulation: 2\n      });\n    }\n  }\n  return ListUsersComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}